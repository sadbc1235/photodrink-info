<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.css" />
    <link rel="stylesheet" href="/css/style.css">

    <style>
        .swiper {
            width: 100%;
            height: 100%;
        }

        .swiper-slide {
            text-align: center;
            font-size: 18px;
            background: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .swiper-slide img {
            display: block;
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    </style>
</head>
<body>
    <div id="wrap">
        <section>
            <article>
                <div class="frame-img">
                    <div class="swiper bustSwiper">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide"><img src="/images/bust/bustmain1.png" alt=""></div>
                            <div class="swiper-slide">Slide 2</div>
                            <div class="swiper-slide">Slide 3</div>
                            <div class="swiper-slide">Slide 4</div>
                            <div class="swiper-slide">Slide 5</div>
                            <div class="swiper-slide">Slide 6</div>
                            <div class="swiper-slide">Slide 7</div>
                            <div class="swiper-slide">Slide 8</div>
                            <!-- <div class="swiper-slide">Slide 9</div> -->
                        </div>
                    </div>
                </div>
                <div class="booth-info name-bust">
                    <h1 class="booth-name">BUST SHOT</h1>
                    <p>
                        포토드링크만의 조명과 프레임을 적용한
                        상반신 촬영 부스
                    </p>

                    <div class="guide-map">
                        안내도
                    </div>

                    <div class="btn-close">
                        <svg viewBox="0 0 384 512"><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg>
                    </div>
                </div>
                <div id="bust" class="forBtn"></div>
            </article>
            <article>
                <div class="frame-img">
                    <div class="swiper metalSwiper">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide"><img src="/images/metal/metal4.png" alt=""></div>
                            <div class="swiper-slide">Slide 2</div>
                            <div class="swiper-slide">Slide 3</div>
                            <div class="swiper-slide">Slide 4</div>
                            <div class="swiper-slide">Slide 5</div>
                            <div class="swiper-slide">Slide 6</div>
                            <div class="swiper-slide">Slide 7</div>
                            <div class="swiper-slide">Slide 8</div>
                            <div class="swiper-slide">Slide 9</div>
                        </div>
                    </div>
                </div>
                <div class="booth-info name-metal">
                    <h1 class="booth-name">METAL</h1>
                    <p>
                        특별한 메탈 인화지를 적용한
                        상반신 촬영 부스
                    </p>

                    <div class="guide-map">
                        안내도
                    </div>

                    <div class="btn-close">
                        <svg viewBox="0 0 384 512"><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg>
                    </div>
                </div>
                <div id="metal" class="forBtn"></div>
            </article>
            <article>
                <div class="frame-img">
                    <div class="swiper fullSwiper">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide"><img src="/images/full/fullshot5.jpg" alt=""></div>
                            <div class="swiper-slide">Slide 2</div>
                            <div class="swiper-slide">Slide 3</div>
                            <div class="swiper-slide">Slide 4</div>
                            <div class="swiper-slide">Slide 5</div>
                            <div class="swiper-slide">Slide 6</div>
                            <div class="swiper-slide">Slide 7</div>
                            <div class="swiper-slide">Slide 8</div>
                            <div class="swiper-slide">Slide 9</div>
                        </div>
                    </div>
                </div>
                <div class="booth-info name-full">
                    <h1 class="booth-name">FULL SHOT</h1>
                    <p>
                        다양한 아트웍을 적용할 수 있는
                        전신 촬영 부스
                    </p>
                    
                    <div class="guide-map">
                        안내도
                    </div>

                    <div class="btn-close">
                        <svg viewBox="0 0 384 512"><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg>
                    </div>
                </div>
                <div id="full" class="forBtn"></div>
            </article>
            <article>
                <div class="frame-img">
                    <div class="swiper dynaSwiper">
                        <div class="swiper-wrapper">
                            <div class="swiper-slide"><img src="/images/dynamic/dynamic2.png" alt=""></div>
                            <div class="swiper-slide">Slide 2</div>
                            <div class="swiper-slide">Slide 3</div>
                            <div class="swiper-slide">Slide 4</div>
                            <div class="swiper-slide">Slide 5</div>
                            <div class="swiper-slide">Slide 6</div>
                            <div class="swiper-slide">Slide 7</div>
                            <div class="swiper-slide">Slide 8</div>
                            <div class="swiper-slide">Slide 9</div>
                        </div>
                    </div>
                </div>
                <div class="booth-info name-dyna">
                    <h1 class="booth-name">DYNAMIC</h1>
                    <p>
                        음악과 함께 사진과 영상을 촬영할 수 있는
                        전용 부스
                    </p>

                    <div class="guide-map">
                        안내도
                    </div>

                    <div class="btn-close">
                        <svg viewBox="0 0 384 512"><path d="M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"/></svg>
                    </div>
                </div>
                <div id="dyna" class="forBtn"></div>
            </article>
        </section>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.4/jquery.min.js" integrity="sha512-pumBsjNRGGqkPzKHndZMaAG+bir374sORyzM3uulLV14lN5LyykqNk8eEeUlUkB3U0M4FApyaHraT65ihJhDpQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script src="https://cdn.jsdelivr.net/npm/swiper@9/swiper-bundle.min.js"></script>
    <script>
        let isSlideOpen = false
        $(document).ready(function(){
            initElements();

            initFunctions();
        });

        const initElements = () => {
            bustSwiper.autoplay.stop();
            metalSwiper.autoplay.stop();
            fullSwiper.autoplay.stop();
            dynaSwiper.autoplay.stop();
        }

        const initFunctions = () => {
            $('#bust').click(() => {
                activeProcess('bust');
            });

            $('#metal').click(() => {
                activeProcess('metal');
            });

            $('#full').click(() => {
                activeProcess('full');
            });

            $('#dyna').click(() => {
                activeProcess('dyna');
            });

            $('.btn-close').click(() => {
                closeSlide();
            });
        }

        const activeProcess = (type) => {
            if(isSlideOpen) {
                return;
            }

            isSlideOpen = true

            boothNameMap = {
                'bust': 'name-bust'
                , 'metal': 'name-metal'
                , 'full': 'name-full'
                , 'dyna': 'name-dyna'
            }
            hideBoothName(boothNameMap[type]);

            setTimeout(() => {
                $(`#${type}`).parent('article').addClass('show');
                setTimeout(() => {
                    $(`.${boothNameMap[type]}`).children('.guide-map').addClass('show');
                    setTimeout(() => {
                        $(`.${boothNameMap[type]}`).children('.btn-close').addClass('show');
                        playSlides(type);
                    }, 200);
                }, 1000);
            }, 600);
        }

        const hideBoothName = (boothName) => {
            $(`.booth-info`).addClass('hide');
            $(`.${boothName}`).removeClass('hide');
        }

        const closeSlide = () => {
            $('.btn-close').removeClass('show');
            resetSlides();
            setTimeout(() => {
                $('.guide-map').removeClass('show');
                setTimeout(() => {
                    $(`article`).removeClass('show');
                    setTimeout(() => {
                        $(`.booth-info`).removeClass('hide');
                        isSlideOpen = false
                    }, 600);
                }, 400);
            }, 300);
        }

        const playSlides = (type) => {
            swiperMap = {
                'bust' : bustSwiper
                , 'metal' : metalSwiper
                , 'full' : fullSwiper
                , 'dyna' : dynaSwiper
            }

            swiperMap[type].autoplay.start();
        }

        const resetSlides = (type) => {
            bustSwiper.autoplay.stop();
            bustSwiper.slideTo(1, 500);
            metalSwiper.autoplay.stop();
            metalSwiper.slideTo(1);
            fullSwiper.autoplay.stop();
            fullSwiper.slideTo(1);
            dynaSwiper.autoplay.stop();
            dynaSwiper.slideTo(1);
        }

        const bustSwiper = new Swiper(".bustSwiper", {
            lazy: true
            , loop: false
            , centeredSlides: true
            , spaceBetween: 30
            , autoplay: {
                delay: 2500
                , disableOnInteraction: false
            }
        });

        const metalSwiper = new Swiper(".metalSwiper", {
            lazy: true
            , loop: true
            , centeredSlides: true
            , spaceBetween: 30
            , autoplay: {
                delay: 2500
                , disableOnInteraction: false
            }
        });

        const fullSwiper = new Swiper(".fullSwiper", {
            lazy: true
            , loop: true
            , centeredSlides: true
            , spaceBetween: 30
            , autoplay: {
                delay: 2500
                , disableOnInteraction: false
            }
        });

        const dynaSwiper = new Swiper(".dynaSwiper", {
            lazy: true
            , loop: true
            , centeredSlides: true
            , spaceBetween: 30
            , autoplay: {
                delay: 2500
                , disableOnInteraction: false
            }
        });
    </script>
</body>
</html>